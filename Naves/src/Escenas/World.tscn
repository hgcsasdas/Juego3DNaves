[gd_scene load_steps=12 format=2]

[ext_resource path="res://src/Scripts/AvionMovimiento.gd" type="Script" id=1]
[ext_resource path="res://src/Models/airplane_v2_L2.123c71795678-4b63-46c4-b2c6-549c45f4c806/11805_airplane_v2_L2.obj" type="ArrayMesh" id=2]
[ext_resource path="res://src/Models/antiaircraft-gun/source/Antiaircraft_gun/Antiaircraft_gun.obj" type="ArrayMesh" id=3]
[ext_resource path="res://src/Scripts/antiaEreo.gd" type="Script" id=4]

[sub_resource type="CapsuleShape" id=7]
height = 0.650443

[sub_resource type="Skin" id=5]

[sub_resource type="CubeMesh" id=1]

[sub_resource type="GradientTexture2D" id=2]

[sub_resource type="SpatialMaterial" id=3]
albedo_color = Color( 0.835294, 0.447059, 0.447059, 1 )
metallic = 1.0
roughness = 0.37
roughness_texture = SubResource( 2 )
refraction_enabled = true
refraction_scale = 0.05
refraction_texture_channel = 0

[sub_resource type="CylinderMesh" id=4]

[sub_resource type="SphereShape" id=6]

[node name="World" type="Spatial"]

[node name="Avion" type="Camera" parent="." groups=["Player"]]
transform = Transform( 0.999997, 0.00221591, -0.000720582, -0.00221333, 0.999991, 0.00356537, 0.000728476, -0.00356376, 0.999993, 0, 9.83, 7.94067 )
fov = 67.7
far = 8192.0
script = ExtResource( 1 )

[node name="Kplayer" type="KinematicBody" parent="Avion"]
transform = Transform( 1, -5.19549e-10, 0, -5.18867e-10, 1, 0, 0, 0, 1, -0.012, -5.807, -15.924 )

[node name="CollisionShape" type="CollisionShape" parent="Avion/Kplayer"]
transform = Transform( 1, -8.62362e-06, 0.00241931, -8.62847e-06, 1.00004, -0.0118355, 0.00241931, -0.0118355, 4.32104, -0.00408396, 1.84515, 0.0065794 )
shape = SubResource( 7 )

[node name="Plane_modelo" type="MeshInstance" parent="Avion/Kplayer"]
transform = Transform( 0.01, -3.18323e-12, -8.1215e-12, -5.40012e-13, -4.36557e-10, 0.01, 1.81899e-12, -0.01, -4.25644e-10, 0, 0, 0 )
mesh = ExtResource( 2 )
skin = SubResource( 5 )
skeleton = NodePath("../../..")

[node name="Position3D" type="Position3D" parent="Avion/Kplayer"]
transform = Transform( 0.999809, -0.0195638, -6.9582e-05, 0.0195638, 0.999809, -1.4934e-05, 6.98605e-05, 1.35687e-05, 1, -0.00832821, 2.12576, -5.0205 )

[node name="Spatial" type="Spatial" parent="."]

[node name="MeshInstance" type="MeshInstance" parent="Spatial"]
transform = Transform( 400, 0, 0, 0, 1, 0, 0, 0, 400, -10.6732, -0.978639, -26.3704 )
mesh = SubResource( 1 )
material/0 = SubResource( 3 )

[node name="MeshInstance2" type="MeshInstance" parent="Spatial"]
transform = Transform( 20, 0, 0, 0, 200, 0, 0, 0, 20, 182.006, -15.9995, -239.671 )
mesh = SubResource( 4 )

[node name="MeshInstance3" type="MeshInstance" parent="Spatial"]
transform = Transform( 20, 0, 0, 0, 200, 0, 0, 0, 20, -181.183, -15.9995, -239.671 )
mesh = SubResource( 4 )

[node name="MeshInstance4" type="MeshInstance" parent="Spatial"]
transform = Transform( 20, 0, 0, 0, 200, 0, 0, 0, 20, -181.183, -15.9995, 109.393 )
mesh = SubResource( 4 )

[node name="MeshInstance5" type="MeshInstance" parent="Spatial"]
transform = Transform( 20, 0, 0, 0, 200, 0, 0, 0, 20, 140.817, -15.9995, 109.393 )
mesh = SubResource( 4 )

[node name="Area" type="Area" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -210.024 )
script = ExtResource( 4 )

[node name="Antiaircraft_gun" type="MeshInstance" parent="Area"]
transform = Transform( -4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 0, 0, 0 )
mesh = ExtResource( 3 )

[node name="Position3D" type="Position3D" parent="Area/Antiaircraft_gun"]
transform = Transform( 0.999809, -0.0195638, -6.9582e-05, 0.0195638, 0.999809, -1.4934e-05, 6.98605e-05, 1.35687e-05, 1, -11.3423, 7.53272, 0.452606 )

[node name="Deteccion" type="CollisionShape" parent="Area"]
transform = Transform( 100, 0, 0, 0, 100, 0, 0, 0, 100, 0, 0, 0 )
shape = SubResource( 6 )

[node name="RayCast" type="RayCast" parent="Area"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 39.4878, 5.60048, -90.0796 )

[connection signal="body_entered" from="Area" to="Area" method="_on_Area_body_entered"]
[connection signal="body_exited" from="Area" to="Area" method="_on_Area_body_exited"]
